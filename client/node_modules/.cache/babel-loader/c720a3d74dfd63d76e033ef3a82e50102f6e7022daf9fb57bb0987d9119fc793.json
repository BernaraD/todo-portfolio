{"ast":null,"code":"import _regeneratorRuntime from\"/Users/bernarad/WebstormProjects/todo-portfolio/client/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/Users/bernarad/WebstormProjects/todo-portfolio/client/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/Users/bernarad/WebstormProjects/todo-portfolio/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState}from'react';import ProgressBar from\"./ProgressBar\";import TickIcon from\"./TickIcon\";import Modal from\"./Modal\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function ListItem(_ref){var task=_ref.task,getData=_ref.getData;var _useState=useState(false),_useState2=_slicedToArray(_useState,2),showModal=_useState2[0],setShowModal=_useState2[1];var deleteItem=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var response;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return fetch(\"\".concat(process.env.REACT_APP_SERVERURL,\"/todos/\").concat(task.id),{method:\"DELETE\"});case 3:response=_context.sent;if(response.status===200){console.log('Deleted');getData();}_context.next=10;break;case 7:_context.prev=7;_context.t0=_context[\"catch\"](0);console.error(_context.t0);case 10:case\"end\":return _context.stop();}},_callee,null,[[0,7]]);}));return function deleteItem(){return _ref2.apply(this,arguments);};}();return/*#__PURE__*/_jsxs(\"li\",{className:\"list-item\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"info-container\",children:[/*#__PURE__*/_jsx(TickIcon,{}),/*#__PURE__*/_jsx(\"p\",{className:\"task-title\",children:task.title}),/*#__PURE__*/_jsx(ProgressBar,{progress:task.progress})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"button-container\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"edit\",onClick:function onClick(){return setShowModal(true);},children:\"Edit\"}),/*#__PURE__*/_jsx(\"button\",{className:\"delete\",onClick:deleteItem,children:\"Delete\"}),showModal&&/*#__PURE__*/_jsx(Modal,{mode:'edit',setShowModal:setShowModal,task:task,getData:getData})]})]});}export default ListItem;","map":{"version":3,"names":["React","useState","ProgressBar","TickIcon","Modal","jsx","_jsx","jsxs","_jsxs","ListItem","_ref","task","getData","_useState","_useState2","_slicedToArray","showModal","setShowModal","deleteItem","_ref2","_asyncToGenerator","_regeneratorRuntime","mark","_callee","response","wrap","_callee$","_context","prev","next","fetch","concat","process","env","REACT_APP_SERVERURL","id","method","sent","status","console","log","t0","error","stop","apply","arguments","className","children","title","progress","onClick","mode"],"sources":["/Users/bernarad/WebstormProjects/todo-portfolio/client/src/components/ListItem.js"],"sourcesContent":["import React, { useState } from 'react';\nimport ProgressBar from \"./ProgressBar\";\nimport TickIcon from \"./TickIcon\";\nimport Modal from \"./Modal\";\n\n\nfunction ListItem({ task, getData }) {\n\n    const [showModal, setShowModal] = useState( false );\n\n    const deleteItem = async () => {\n        try {\n            const response =await fetch(`${process.env.REACT_APP_SERVERURL}/todos/${ task.id }`, {\n                method: \"DELETE\",\n            })\n            if (response.status === 200) {\n                console.log( 'Deleted' )\n                getData()\n            }\n        } catch ( err ) {\n            console.error( err )\n        }\n    }\n\n    return (\n        <li className=\"list-item\">\n\n            <div className='info-container'>\n                <TickIcon/>\n                <p className=\"task-title\">{ task.title }</p>\n                <ProgressBar progress={task.progress}/>\n            </div>\n\n            <div className=\"button-container\">\n                <button className=\"edit\" onClick={ () => setShowModal( true ) }>Edit</button>\n                <button className=\"delete\" onClick={ deleteItem }>Delete</button>\n\n                { showModal &&\n                    <Modal mode={ 'edit' }\n                           setShowModal={ setShowModal }\n                           task={ task }\n                           getData={ getData }\n                    /> }\n            </div>\n        </li>\n    )\n}\n\nexport default ListItem;"],"mappings":"obAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,KAAQ,OAAO,CACvC,MAAO,CAAAC,WAAW,KAAM,eAAe,CACvC,MAAO,CAAAC,QAAQ,KAAM,YAAY,CACjC,MAAO,CAAAC,KAAK,KAAM,SAAS,CAAC,OAAAC,GAAA,IAAAC,IAAA,gCAAAC,IAAA,IAAAC,KAAA,yBAG5B,QAAS,CAAAC,QAAQA,CAAAC,IAAA,CAAoB,IAAjB,CAAAC,IAAI,CAAAD,IAAA,CAAJC,IAAI,CAAEC,OAAO,CAAAF,IAAA,CAAPE,OAAO,CAE7B,IAAAC,SAAA,CAAkCZ,QAAQ,CAAE,KAAM,CAAC,CAAAa,UAAA,CAAAC,cAAA,CAAAF,SAAA,IAA5CG,SAAS,CAAAF,UAAA,IAAEG,YAAY,CAAAH,UAAA,IAE9B,GAAM,CAAAI,UAAU,6BAAAC,KAAA,CAAAC,iBAAA,cAAAC,mBAAA,GAAAC,IAAA,CAAG,SAAAC,QAAA,MAAAC,QAAA,QAAAH,mBAAA,GAAAI,IAAA,UAAAC,SAAAC,QAAA,iBAAAA,QAAA,CAAAC,IAAA,CAAAD,QAAA,CAAAE,IAAA,SAAAF,QAAA,CAAAC,IAAA,GAAAD,QAAA,CAAAE,IAAA,SAEW,CAAAC,KAAK,IAAAC,MAAA,CAAIC,OAAO,CAACC,GAAG,CAACC,mBAAmB,YAAAH,MAAA,CAAWpB,IAAI,CAACwB,EAAE,EAAK,CACjFC,MAAM,CAAE,QACZ,CAAC,CAAC,QAFIZ,QAAQ,CAAAG,QAAA,CAAAU,IAAA,CAGd,GAAIb,QAAQ,CAACc,MAAM,GAAK,GAAG,CAAE,CACzBC,OAAO,CAACC,GAAG,CAAE,SAAU,CAAC,CACxB5B,OAAO,CAAC,CAAC,CACb,CAACe,QAAA,CAAAE,IAAA,iBAAAF,QAAA,CAAAC,IAAA,GAAAD,QAAA,CAAAc,EAAA,CAAAd,QAAA,aAEDY,OAAO,CAACG,KAAK,CAAAf,QAAA,CAAAc,EAAM,CAAC,0BAAAd,QAAA,CAAAgB,IAAA,MAAApB,OAAA,gBAE3B,kBAZK,CAAAL,UAAUA,CAAA,SAAAC,KAAA,CAAAyB,KAAA,MAAAC,SAAA,OAYf,CAED,mBACIrC,KAAA,OAAIsC,SAAS,CAAC,WAAW,CAAAC,QAAA,eAErBvC,KAAA,QAAKsC,SAAS,CAAC,gBAAgB,CAAAC,QAAA,eAC3BzC,IAAA,CAACH,QAAQ,GAAC,CAAC,cACXG,IAAA,MAAGwC,SAAS,CAAC,YAAY,CAAAC,QAAA,CAAGpC,IAAI,CAACqC,KAAK,CAAK,CAAC,cAC5C1C,IAAA,CAACJ,WAAW,EAAC+C,QAAQ,CAAEtC,IAAI,CAACsC,QAAS,CAAC,CAAC,EACtC,CAAC,cAENzC,KAAA,QAAKsC,SAAS,CAAC,kBAAkB,CAAAC,QAAA,eAC7BzC,IAAA,WAAQwC,SAAS,CAAC,MAAM,CAACI,OAAO,CAAG,SAAAA,QAAA,QAAM,CAAAjC,YAAY,CAAE,IAAK,CAAC,EAAE,CAAA8B,QAAA,CAAC,MAAI,CAAQ,CAAC,cAC7EzC,IAAA,WAAQwC,SAAS,CAAC,QAAQ,CAACI,OAAO,CAAGhC,UAAY,CAAA6B,QAAA,CAAC,QAAM,CAAQ,CAAC,CAE/D/B,SAAS,eACPV,IAAA,CAACF,KAAK,EAAC+C,IAAI,CAAG,MAAQ,CACflC,YAAY,CAAGA,YAAc,CAC7BN,IAAI,CAAGA,IAAM,CACbC,OAAO,CAAGA,OAAS,CACzB,CAAC,EACL,CAAC,EACN,CAAC,CAEb,CAEA,cAAe,CAAAH,QAAQ"},"metadata":{},"sourceType":"module","externalDependencies":[]}
{"ast":null,"code":"import _defineProperty from\"/Users/bernarad/WebstormProjects/todo-portfolio/client/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";import _objectSpread from\"/Users/bernarad/WebstormProjects/todo-portfolio/client/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _regeneratorRuntime from\"/Users/bernarad/WebstormProjects/todo-portfolio/client/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/Users/bernarad/WebstormProjects/todo-portfolio/client/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/Users/bernarad/WebstormProjects/todo-portfolio/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState}from'react';import{useCookies}from\"react-cookie\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";function Modal(_ref){var mode=_ref.mode,task=_ref.task,getData=_ref.getData,setShowModal=_ref.setShowModal;var _useCookies=useCookies(null),_useCookies2=_slicedToArray(_useCookies,3),cookies=_useCookies2[0],setCookie=_useCookies2[1],removeCookie=_useCookies2[2];var editMode=mode==='edit'?true:false;var _useState=useState({user_email:editMode?task.user_email:cookies.Email,title:editMode?task.title:null,progress:editMode?task.progress:10,date:editMode?task.date:new Date()}),_useState2=_slicedToArray(_useState,2),data=_useState2[0],setData=_useState2[1];var postData=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(e){var response;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:e.preventDefault();_context.prev=1;_context.next=4;return fetch(\"\".concat(process.env.REACT_APP_SERVERURL,\"/todos\"),{method:\"POST\",headers:{\"Content-Type\":\"application/json\"},body:JSON.stringify(data)});case 4:response=_context.sent;if(response.status===200){setShowModal(false);getData();}_context.next=11;break;case 8:_context.prev=8;_context.t0=_context[\"catch\"](1);console.log(_context.t0);case 11:case\"end\":return _context.stop();}},_callee,null,[[1,8]]);}));return function postData(_x){return _ref2.apply(this,arguments);};}();var editData=/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee2(e){var response;return _regeneratorRuntime().wrap(function _callee2$(_context2){while(1)switch(_context2.prev=_context2.next){case 0:e.preventDefault();_context2.prev=1;_context2.next=4;return fetch(\"\".concat(process.env.REACT_APP_SERVERURL,\"/todos/\").concat(task.id),{method:\"PUT\",headers:{\"Content-Type\":\"application/json\"},body:JSON.stringify(data)});case 4:response=_context2.sent;if(response.status===200){setShowModal(false);getData();}_context2.next=11;break;case 8:_context2.prev=8;_context2.t0=_context2[\"catch\"](1);console.error(_context2.t0);case 11:case\"end\":return _context2.stop();}},_callee2,null,[[1,8]]);}));return function editData(_x2){return _ref3.apply(this,arguments);};}();var handleChange=function handleChange(e){var _e$target=e.target,name=_e$target.name,value=_e$target.value;setData(function(data){return _objectSpread(_objectSpread({},data),{},_defineProperty({},name,value));});};return/*#__PURE__*/_jsx(\"div\",{className:\"overlay\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"modal\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-title-container\",children:[/*#__PURE__*/_jsxs(\"h3\",{children:[\"Lets \",mode,\" your task\"]}),/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(){return setShowModal(false);},children:\"Cancel\"})]}),/*#__PURE__*/_jsxs(\"form\",{children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Your task goes here\",required:true,maxLength:30,name:\"title\",value:data.title,onChange:handleChange}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"label\",{htmlFor:\"range\",children:\"Drag to select your current progress\"}),/*#__PURE__*/_jsx(\"input\",{type:\"range\",name:\"progress\",id:\"range\",required:true,min:\"0\",max:\"100\",value:data.progress,onChange:handleChange}),/*#__PURE__*/_jsx(\"input\",{type:\"submit\",className:mode,onClick:editMode?editData:postData})]})]})});}export default Modal;","map":{"version":3,"names":["React","useState","useCookies","jsxs","_jsxs","jsx","_jsx","Modal","_ref","mode","task","getData","setShowModal","_useCookies","_useCookies2","_slicedToArray","cookies","setCookie","removeCookie","editMode","_useState","user_email","Email","title","progress","date","Date","_useState2","data","setData","postData","_ref2","_asyncToGenerator","_regeneratorRuntime","mark","_callee","e","response","wrap","_callee$","_context","prev","next","preventDefault","fetch","concat","process","env","REACT_APP_SERVERURL","method","headers","body","JSON","stringify","sent","status","t0","console","log","stop","_x","apply","arguments","editData","_ref3","_callee2","_callee2$","_context2","id","error","_x2","handleChange","_e$target","target","name","value","_objectSpread","_defineProperty","className","children","onClick","type","placeholder","required","maxLength","onChange","htmlFor","min","max"],"sources":["/Users/bernarad/WebstormProjects/todo-portfolio/client/src/components/Modal.js"],"sourcesContent":["import React, { useState } from 'react';\nimport { useCookies } from \"react-cookie\";\n\n\nfunction Modal({ mode, task, getData, setShowModal }) {\n    const [cookies, setCookie, removeCookie] = useCookies(null);\n\n    const editMode = mode === 'edit' ? true : false\n\n    const [data, setData] = useState( {\n        user_email: editMode ? task.user_email : cookies.Email,\n        title: editMode ? task.title : null,\n        progress: editMode ? task.progress : 10,\n        date: editMode ? task.date : new Date()\n    } );\n\n    const postData = async (e) => {\n        e.preventDefault()\n        try {\n            const response = await fetch( `${process.env.REACT_APP_SERVERURL}/todos`, {\n                method: \"POST\",\n                headers: { \"Content-Type\": \"application/json\" },\n                body: JSON.stringify( data )\n            } )\n            if (response.status === 200) {\n                setShowModal( false );\n                getData();\n            }\n        } catch ( error ) {\n            console.log( error )\n        }\n    };\n\n    const editData = async (e) => {\n        e.preventDefault()\n        try {\n            const response = await fetch( `${process.env.REACT_APP_SERVERURL}/todos/${ task.id }`, {\n                method: \"PUT\",\n                headers: { \"Content-Type\": \"application/json\" },\n                body: JSON.stringify( data )\n            } )\n            if (response.status === 200) {\n                setShowModal( false );\n                getData()\n            }\n        } catch ( err ) {\n            console.error( err )\n        }\n    }\n\n\n    const handleChange = (e) => {\n        const {name, value} = e.target\n        setData( data => ( {\n            ...data,\n            [name]: value\n        } ) )\n    }\n\n\n    return (\n        <div className=\"overlay\">\n            <div className=\"modal\">\n                <div className=\"form-title-container\">\n                    <h3>Lets { mode } your task</h3>\n                    <button onClick={ () => setShowModal( false ) }>Cancel</button>\n                </div>\n\n                <form>\n                    <input\n                        type=\"text\"\n                        placeholder=\"Your task goes here\"\n                        required\n                        maxLength={ 30 }\n                        name=\"title\"\n                        value={ data.title }\n                        onChange={ handleChange }\n                    />\n                    <br/>\n\n                    <label htmlFor=\"range\">Drag to select your current progress</label>\n                    <input\n                        type=\"range\"\n                        name=\"progress\"\n                        id=\"range\"\n                        required\n                        min=\"0\" max=\"100\"\n                        value={ data.progress }\n                        onChange={ handleChange }\n                    />\n                    <input\n                        type=\"submit\"\n                        className={ mode }\n                        onClick={ editMode ? editData : postData }\n                    />\n\n                </form>\n            </div>\n        </div>\n    )\n}\n\nexport default Modal;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}